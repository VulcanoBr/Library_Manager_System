<div class="container">
  <h3 class="mt-4"><u>Books from library  <%= current_librarian.library.name %></u></h3>
  <p><strong>Note:</strong> You can edit only books from your library.</p>
  
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Isbn</th>
        <th>Title</th>
        <th>Author</th>
        
        
        
        <th>Subject</th>
        <th>Special collection</th>
        <th>Count</th>
        <th>View </th>
        <th collapse="3">Action</th>
      </tr>
    </thead>

    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><%= book.isbn %></td>
          <td><%= book.title %></td>
          <td><%= book.author.name %></td>
          
          
          
          <td><%= book.subject.name %></td>
          
          <td><%= book.special_collection %></td>
          
          <td>
            <span class="badge <%= book.count > 0 ? 'bg-success' : 'bg-danger' %>">
              <%= book.count %>
            </span>
          </td>
          </td>
          <td><%= link_to 'Book History', controller: "books", action: "viewBookHistory", id: book, class: 'btn btn-secondary' %></td>
          <td>
              <%= link_to book, class: 'btn btn-info' do %>
                    <i class="fas fa-eye"></i>
              <% end %> 
              <%= link_to edit_book_path(book), class: 'btn btn-warning' do %>
                    <i class="fas fa-edit"></i>
              <% end %> 
              <%= link_to  book, class: "btn btn-danger", method: :delete, data: { "turbo-method": :delete, 
                        turbo_confirm: "Tem certesa que deseja excluir este item ?"} do %>
                      <i class="fas fa-trash" ></i> 
              <% end %>
          </td>
          
        </tr>
      <% end %>
    </tbody>
  </table>

  <div>
    <%= link_to librarians_path, text: "Back", class: "btn btn-warning" do %>
        <i class="fas fa-arrow-left" ></i> 
        <span>Back Panel</span>
    <% end %>
  </div>

  